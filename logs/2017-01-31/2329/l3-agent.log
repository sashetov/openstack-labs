2017-01-31 23:29:21.596 11506 ERROR neutron.agent.l3.agent [req-93686b9c-44d7-47a2-abd8-64ed3d5e083d - - - - -] Failed synchronizing routers '[]' due to RPC error
2017-01-31 23:29:21.596 11506 ERROR neutron.agent.l3.agent Traceback (most recent call last):
2017-01-31 23:29:21.596 11506 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py", line 563, in fetch_and_sync_all_routers
2017-01-31 23:29:21.596 11506 ERROR neutron.agent.l3.agent     router_ids = self.plugin_rpc.get_router_ids(context)
2017-01-31 23:29:21.596 11506 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py", line 114, in get_router_ids
2017-01-31 23:29:21.596 11506 ERROR neutron.agent.l3.agent     return cctxt.call(context, 'get_router_ids', host=self.host)
2017-01-31 23:29:21.596 11506 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/common/rpc.py", line 138, in call
2017-01-31 23:29:21.596 11506 ERROR neutron.agent.l3.agent     return self._original_context.call(ctxt, method, **kwargs)
2017-01-31 23:29:21.596 11506 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/client.py", line 169, in call
2017-01-31 23:29:21.596 11506 ERROR neutron.agent.l3.agent     retry=self.retry)
2017-01-31 23:29:21.596 11506 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/transport.py", line 97, in _send
2017-01-31 23:29:21.596 11506 ERROR neutron.agent.l3.agent     timeout=timeout, retry=retry)
2017-01-31 23:29:21.596 11506 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 464, in send
2017-01-31 23:29:21.596 11506 ERROR neutron.agent.l3.agent     retry=retry)
2017-01-31 23:29:21.596 11506 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 455, in _send
2017-01-31 23:29:21.596 11506 ERROR neutron.agent.l3.agent     raise result
2017-01-31 23:29:21.596 11506 ERROR neutron.agent.l3.agent RemoteError: Remote error: ProgrammingError (pymysql.err.ProgrammingError) (1146, u"Table 'neutron.ml2_distributed_port_bindings' doesn't exist") [SQL: u'SELECT routers.project_id AS routers_project_id, routers.id AS routers_id, routers.name AS routers_name, routers.status AS routers_status, routers.admin_state_up AS routers_admin_state_up, routers.gw_port_id AS routers_gw_port_id, routers.flavor_id AS routers_flavor_id, routers.standard_attr_id AS routers_standard_attr_id, routers.enable_snat AS routers_enable_snat, anon_1.count AS anon_1_count, ipallocations_1.port_id AS ipallocations_1_port_id, ipallocations_1.ip_address AS ipallocations_1_ip_address, ipallocations_1.subnet_id AS ipallocations_1_subnet_id, ipallocations_1.network_id AS ipallocations_1_network_id, standardattributes_1.id AS standardattributes_1_id, standardattributes_1.resource_type AS standardattributes_1_resource_type, standardattributes_1.description AS standardattributes_1_description, standardattributes_1.revision_number AS standardattributes_1_revision_number, standardattributes_1.created_at AS standardattributes_1_created_at, standardattributes_1.updated_at AS standardattributes_1_updated_at, tags_1.standard_attr_id AS tags_1_standard_attr_id, tags_1.tag AS tags_1_tag, ports_1.project_id AS ports_1_project_id, ports_1.id AS ports_1_id, ports_1.name AS ports_1_name, ports_1.network_id AS ports_1_network_id, ports_1.mac_address AS ports_1_mac_address, ports_1.admin_state_up AS ports_1_admin_state_up, ports_1.status AS ports_1_status, ports_1.device_id AS ports_1_device_id, ports_1.device_owner AS ports_1_device_owner, ports_1.ip_allocation AS ports_1_ip_allocation, ports_1.standard_attr_id AS ports_1_standard_attr_id, extradhcpopts_1.id AS extradhcpopts_1_id, extradhcpopts_1.port_id AS extradhcpopts_1_port_id, extradhcpopts_1.opt_name AS extradhcpopts_1_opt_name, extradhcpopts_1.opt_value AS extradhcpopts_1_opt_value, extradhcpopts_1.ip_version AS extradhcpopts_1_ip_version, ml2_port_bindings_1.port_id AS ml2_port_bindings_1_port_id, ml2_port_bindings_1.host AS ml2_port_bindings_1_host, ml2_port_bindings_1.vnic_type AS ml2_port_bindings_1_vnic_type, ml2_port_bindings_1.profile AS ml2_port_bindings_1_profile, ml2_port_bindings_1.vif_type AS ml2_port_bindings_1_vif_type, ml2_port_bindings_1.vif_details AS ml2_port_bindings_1_vif_details, ml2_distributed_port_bindings_1.port_id AS ml2_distributed_port_bindings_1_port_id, ml2_distributed_port_bindings_1.host AS ml2_distributed_port_bindings_1_host, ml2_distributed_port_bindings_1.router_id AS ml2_distributed_port_bindings_1_router_id, ml2_distributed_port_bindings_1.vif_type AS ml2_distributed_port_bindings_1_vif_type, ml2_distributed_port_bindings_1.vif_details AS ml2_distributed_port_bindings_1_vif_details, ml2_distributed_port_bindings_1.vnic_type AS ml2_distributed_port_bindings_1_vnic_type, ml2_distributed_port_bindings_1.profile AS ml2_distributed_port_bindings_1_profile, ml2_distributed_port_bindings_1.status AS ml2_distributed_port_bindings_1_status, qos_port_policy_bindings_1.policy_id AS qos_port_policy_bindings_1_policy_id, qos_port_policy_bindings_1.port_id AS qos_port_policy_bindings_1_port_id, securitygroupportbindings_1.port_id AS securitygroupportbindings_1_port_id, securitygroupportbindings_1.security_group_id AS securitygroupportbindings_1_security_group_id, subports_1.port_id AS subports_1_port_id, subports_1.trunk_id AS subports_1_trunk_id, subports_1.segmentation_type AS subports_1_segmentation_type, subports_1.segmentation_id AS subports_1_segmentation_id, standardattributes_2.id AS standardattributes_2_id, standardattributes_2.resource_type AS standardattributes_2_resource_type, standardattributes_2.description AS standardattributes_2_description, standardattributes_2.revision_number AS standardattributes_2_revision_number, standardattributes_2.created_at AS standardattributes_2_created_at, standardattributes_2.updated_at AS standardattributes_2_updated_at, tags_2.standard_attr_id AS tags_2_standard_attr_id, tags_2.tag AS tags_2_tag, trunks_1.project_id AS trunks_1_project_id, trunks_1.id AS trunks_1_id, trunks_1.admin_state_up AS trunks_1_admin_state_up, trunks_1.name AS trunks_1_name, trunks_1.port_id AS trunks_1_port_id, trunks_1.status AS trunks_1_status, trunks_1.standard_attr_id AS trunks_1_standard_attr_id, portsecuritybindings_1.port_id AS portsecuritybindings_1_port_id, portsecuritybindings_1.port_security_enabled AS portsecuritybindings_1_port_security_enabled, subports_2.port_id AS subports_2_port_id, subports_2.trunk_id AS subports_2_trunk_id, subports_2.segmentation_type AS subports_2_segmentation_type, subports_2.segmentation_id AS subports_2_segmentation_id, allowedaddresspairs_1.port_id AS allowedaddresspairs_1_port_id, allowedaddresspairs_1.mac_address AS allowedaddresspairs_1_mac_address, allowedaddresspairs_1.ip_address AS allowedaddresspairs_1_ip_address, portdnses_1.port_id AS portdnses_1_port_id, portdnses_1.current_dns_name AS portdnses_1_current_dns_name, portdnses_1.current_dns_domain AS portdnses_1_current_dns_domain, portdnses_1.previous_dns_name AS portdnses_1_previous_dns_name, portdnses_1.previous_dns_domain AS portdnses_1_previous_dns_domain, portdnses_1.dns_name AS portdnses_1_dns_name, agents_1.id AS agents_1_id, agents_1.agent_type AS agents_1_agent_type, agents_1.`binary` AS agents_1_binary, agents_1.topic AS agents_1_topic, agents_1.host AS agents_1_host, agents_1.availability_zone AS agents_1_availability_zone, agents_1.admin_state_up AS agents_1_admin_state_up, agents_1.created_at AS agents_1_created_at, agents_1.started_at AS agents_1_started_at, agents_1.heartbeat_timestamp AS agents_1_heartbeat_timestamp, agents_1.description AS agents_1_description, agents_1.configurations AS agents_1_configurations, agents_1.resource_versions AS agents_1_resource_versions, agents_1.`load` AS agents_1_load, standardattributes_3.id AS standardattributes_3_id, standardattributes_3.resource_type AS standardattributes_3_resource_type, standardattributes_3.description AS standardattributes_3_description, standardattributes_3.revision_number AS standardattributes_3_revision_number, standardattributes_3.created_at AS standardattributes_3_created_at, standardattributes_3.updated_at AS standardattributes_3_updated_at, tags_3.standard_attr_id AS tags_3_standard_attr_id, tags_3.tag AS tags_3_tag, router_extra_attributes_1.router_id AS router_extra_attributes_1_router_id, router_extra_attributes_1.distributed AS router_extra_attributes_1_distributed, router_extra_attributes_1.service_router AS router_extra_attributes_1_service_router, router_extra_attributes_1.ha AS router_extra_attributes_1_ha, router_extra_attributes_1.ha_vr_id AS router_extra_attributes_1_ha_vr_id, router_extra_attributes_1.availability_zone_hints AS router_extra_attributes_1_availability_zone_hints, routerroutes_1.destination AS routerroutes_1_destination, routerroutes_1.nexthop AS routerroutes_1_nexthop, routerroutes_1.router_id AS routerroutes_1_router_id \nFROM routers INNER JOIN (SELECT routerl3agentbindings.router_id AS router_id, count(routerl3agentbindings.router_id) AS count \nFROM routerl3agentbindings INNER JOIN router_extra_attributes ON routerl3agentbindings.router_id = router_extra_attributes.router_id INNER JOIN routers ON routers.id = router_extra_attributes.router_id \nWHERE router_extra_attributes.ha = true GROUP BY routerl3agentbindings.router_id) AS anon_1 ON routers.id = anon_1.router_id LEFT OUTER JOIN ports AS ports_1 ON ports_1.id = routers.gw_port_id LEFT OUTER JOIN ipallocations AS ipallocations_1 ON ports_1.id = ipallocations_1.port_id LEFT OUTER JOIN standardattributes AS standardattributes_1 ON standardattributes_1.id = ports_1.standard_attr_id LEFT OUTER JOIN tags AS tags_1 ON standardattributes_1.id = tags_1.standard_attr_id LEFT OUTER JOIN extradhcpopts AS extradhcpopts_1 ON ports_1.id = extradhcpopts_1.port_id LEFT OUTER JOIN ml2_port_bindings AS ml2_port_bindings_1 ON ports_1.id = ml2_port_bindings_1.port_id LEFT OUTER JOIN ml2_distributed_port_bindings AS ml2_distributed_port_bindings_1 ON ports_1.id = ml2_distributed_port_bindings_1.port_id LEFT OUTER JOIN qos_port_policy_bindings AS qos_port_policy_bindings_1 ON ports_1.id = qos_port_policy_bindings_1.port_id LEFT OUTER JOIN securitygroupportbindings AS securitygroupportbindings_1 ON ports_1.id = securitygroupportbindings_1.port_id LEFT OUTER JOIN trunks AS trunks_1 ON ports_1.id = trunks_1.port_id LEFT OUTER JOIN subports AS subports_1 ON trunks_1.id = subports_1.trunk_id LEFT OUTER JOIN standardattributes AS standardattributes_2 ON standardattributes_2.id = trunks_1.standard_attr_id LEFT OUTER JOIN tags AS tags_2 ON standardattributes_2.id = tags_2.standard_attr_id LEFT OUTER JOIN portsecuritybindings AS portsecuritybindings_1 ON ports_1.id = portsecuritybindings_1.port_id LEFT OUTER JOIN subports AS subports_2 ON ports_1.id = subports_2.port_id LEFT OUTER JOIN allowedaddresspairs AS allowedaddresspairs_1 ON ports_1.id = allowedaddresspairs_1.port_id LEFT OUTER JOIN portdnses AS portdnses_1 ON ports_1.id = portdnses_1.port_id LEFT OUTER JOIN (routerl3agentbindings AS routerl3agentbindings_1 INNER JOIN agents AS agents_1 ON agents_1.id = routerl3agentbindings_1.l3_agent_id) ON routers.id = routerl3agentbindings_1.router_id LEFT OUTER JOIN standardattributes AS standardattributes_3 ON standardattributes_3.id = routers.standard_attr_id LEFT OUTER JOIN tags AS tags_3 ON standardattributes_3.id = tags_3.standard_attr_id LEFT OUTER JOIN router_extra_attributes AS router_extra_attributes_1 ON routers.id = router_extra_attributes_1.router_id LEFT OUTER JOIN routerroutes AS routerroutes_1 ON routers.id = routerroutes_1.router_id']
2017-01-31 23:29:21.596 11506 ERROR neutron.agent.l3.agent [u'Traceback (most recent call last):\n', u'  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 133, in _process_incoming\n    res = self.dispatcher.dispatch(message)\n', u'  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 150, in dispatch\n    return self._do_dispatch(endpoint, method, ctxt, args)\n', u'  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 121, in _do_dispatch\n    result = func(ctxt, **new_args)\n', u'  File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py", line 75, in get_router_ids\n    router_ids=None)\n', u'  File "/usr/lib/python2.7/site-packages/neutron/db/l3_agentschedulers_db.py", line 507, in auto_schedule_routers\n    self, context, host, router_ids)\n', u'  File "/usr/lib/python2.7/site-packages/neutron/scheduler/l3_agent_scheduler.py", line 151, in auto_schedule_routers\n    plugin, context, l3_agent)\n', u'  File "/usr/lib/python2.7/site-packages/neutron/scheduler/l3_agent_scheduler.py", line 342, in _schedule_ha_routers_to_additional_agent\n    agent)\n', u'  File "/usr/lib/python2.7/site-packages/neutron/scheduler/l3_agent_scheduler.py", line 331, in get_ha_routers_l3_agents_counts\n    return plugin.get_ha_routers_l3_agents_count(context)\n', u'  File "/usr/lib/python2.7/site-packages/neutron/db/l3_hascheduler_db.py", line 57, in get_ha_routers_l3_agents_count\n    for router, agent_count in query]\n', u'  File "/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py", line 2736, in __iter__\n    return self._execute_and_instances(context)\n', u'  File "/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py", line 2751, in _execute_and_instances\n    result = conn.execute(querycontext.statement, self._params)\n', u'  File "/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py", line 914, in execute\n    return meth(self, multiparams, params)\n', u'  File "/usr/lib64/python2.7/site-packages/sqlalchemy/sql/elements.py", line 323, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n', u'  File "/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py", line 1010, in _execute_clauseelement\n    compiled_sql, distilled_params\n', u'  File "/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py", line 1146, in _execute_context\n    context)\n', u'  File "/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py", line 1337, in _handle_dbapi_exception\n    util.raise_from_cause(newraise, exc_info)\n', u'  File "/usr/lib64/python2.7/site-packages/sqlalchemy/util/compat.py", line 200, in raise_from_cause\n    reraise(type(exception), exception, tb=exc_tb)\n', u'  File "/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py", line 1139, in _execute_context\n    context)\n', u'  File "/usr/lib64/python2.7/site-packages/sqlalchemy/engine/default.py", line 450, in do_execute\n    cursor.execute(statement, parameters)\n', u'  File "/usr/lib/python2.7/site-packages/pymysql/cursors.py", line 166, in execute\n    result = self._query(query)\n', u'  File "/usr/lib/python2.7/site-packages/pymysql/cursors.py", line 322, in _query\n    conn.query(q)\n', u'  File "/usr/lib/python2.7/site-packages/pymysql/connections.py", line 841, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n', u'  File "/usr/lib/python2.7/site-packages/pymysql/connections.py", line 1029, in _read_query_result\n    result.read()\n', u'  File "/usr/lib/python2.7/site-packages/pymysql/connections.py", line 1312, in read\n    first_packet = self.connection._read_packet()\n', u'  File "/usr/lib/python2.7/site-packages/pymysql/connections.py", line 991, in _read_packet\n    packet.check_error()\n', u'  File "/usr/lib/python2.7/site-packages/pymysql/connections.py", line 393, in check_error\n    err.raise_mysql_exception(self._data)\n', u'  File "/usr/lib/python2.7/site-packages/pymysql/err.py", line 107, in raise_mysql_exception\n    raise errorclass(errno, errval)\n', u'ProgrammingError: (pymysql.err.ProgrammingError) (1146, u"Table \'neutron.ml2_distributed_port_bindings\' doesn\'t exist") [SQL: u\'SELECT routers.project_id AS routers_project_id, routers.id AS routers_id, routers.name AS routers_name, routers.status AS routers_status, routers.admin_state_up AS routers_admin_state_up, routers.gw_port_id AS routers_gw_port_id, routers.flavor_id AS routers_flavor_id, routers.standard_attr_id AS routers_standard_attr_id, routers.enable_snat AS routers_enable_snat, anon_1.count AS anon_1_count, ipallocations_1.port_id AS ipallocations_1_port_id, ipallocations_1.ip_address AS ipallocations_1_ip_address, ipallocations_1.subnet_id AS ipallocations_1_subnet_id, ipallocations_1.network_id AS ipallocations_1_network_id, standardattributes_1.id AS standardattributes_1_id, standardattributes_1.resource_type AS standardattributes_1_resource_type, standardattributes_1.description AS standardattributes_1_description, standardattributes_1.revision_number AS standardattributes_1_revision_number, standardattributes_1.created_at AS standardattributes_1_created_at, standardattributes_1.updated_at AS standardattributes_1_updated_at, tags_1.standard_attr_id AS tags_1_standard_attr_id, tags_1.tag AS tags_1_tag, ports_1.project_id AS ports_1_project_id, ports_1.id AS ports_1_id, ports_1.name AS ports_1_name, ports_1.network_id AS ports_1_network_id, ports_1.mac_address AS ports_1_mac_address, ports_1.admin_state_up AS ports_1_admin_state_up, ports_1.status AS ports_1_status, ports_1.device_id AS ports_1_device_id, ports_1.device_owner AS ports_1_device_owner, ports_1.ip_allocation AS ports_1_ip_allocation, ports_1.standard_attr_id AS ports_1_standard_attr_id, extradhcpopts_1.id AS extradhcpopts_1_id, extradhcpopts_1.port_id AS extradhcpopts_1_port_id, extradhcpopts_1.opt_name AS extradhcpopts_1_opt_name, extradhcpopts_1.opt_value AS extradhcpopts_1_opt_value, extradhcpopts_1.ip_version AS extradhcpopts_1_ip_version, ml2_port_bindings_1.port_id AS ml2_port_bindings_1_port_id, ml2_port_bindings_1.host AS ml2_port_bindings_1_host, ml2_port_bindings_1.vnic_type AS ml2_port_bindings_1_vnic_type, ml2_port_bindings_1.profile AS ml2_port_bindings_1_profile, ml2_port_bindings_1.vif_type AS ml2_port_bindings_1_vif_type, ml2_port_bindings_1.vif_details AS ml2_port_bindings_1_vif_details, ml2_distributed_port_bindings_1.port_id AS ml2_distributed_port_bindings_1_port_id, ml2_distributed_port_bindings_1.host AS ml2_distributed_port_bindings_1_host, ml2_distributed_port_bindings_1.router_id AS ml2_distributed_port_bindings_1_router_id, ml2_distributed_port_bindings_1.vif_type AS ml2_distributed_port_bindings_1_vif_type, ml2_distributed_port_bindings_1.vif_details AS ml2_distributed_port_bindings_1_vif_details, ml2_distributed_port_bindings_1.vnic_type AS ml2_distributed_port_bindings_1_vnic_type, ml2_distributed_port_bindings_1.profile AS ml2_distributed_port_bindings_1_profile, ml2_distributed_port_bindings_1.status AS ml2_distributed_port_bindings_1_status, qos_port_policy_bindings_1.policy_id AS qos_port_policy_bindings_1_policy_id, qos_port_policy_bindings_1.port_id AS qos_port_policy_bindings_1_port_id, securitygroupportbindings_1.port_id AS securitygroupportbindings_1_port_id, securitygroupportbindings_1.security_group_id AS securitygroupportbindings_1_security_group_id, subports_1.port_id AS subports_1_port_id, subports_1.trunk_id AS subports_1_trunk_id, subports_1.segmentation_type AS subports_1_segmentation_type, subports_1.segmentation_id AS subports_1_segmentation_id, standardattributes_2.id AS standardattributes_2_id, standardattributes_2.resource_type AS standardattributes_2_resource_type, standardattributes_2.description AS standardattributes_2_description, standardattributes_2.revision_number AS standardattributes_2_revision_number, standardattributes_2.created_at AS standardattributes_2_created_at, standardattributes_2.updated_at AS standardattributes_2_updated_at, tags_2.standard_attr_id AS tags_2_standard_attr_id, tags_2.tag AS tags_2_tag, trunks_1.project_id AS trunks_1_project_id, trunks_1.id AS trunks_1_id, trunks_1.admin_state_up AS trunks_1_admin_state_up, trunks_1.name AS trunks_1_name, trunks_1.port_id AS trunks_1_port_id, trunks_1.status AS trunks_1_status, trunks_1.standard_attr_id AS trunks_1_standard_attr_id, portsecuritybindings_1.port_id AS portsecuritybindings_1_port_id, portsecuritybindings_1.port_security_enabled AS portsecuritybindings_1_port_security_enabled, subports_2.port_id AS subports_2_port_id, subports_2.trunk_id AS subports_2_trunk_id, subports_2.segmentation_type AS subports_2_segmentation_type, subports_2.segmentation_id AS subports_2_segmentation_id, allowedaddresspairs_1.port_id AS allowedaddresspairs_1_port_id, allowedaddresspairs_1.mac_address AS allowedaddresspairs_1_mac_address, allowedaddresspairs_1.ip_address AS allowedaddresspairs_1_ip_address, portdnses_1.port_id AS portdnses_1_port_id, portdnses_1.current_dns_name AS portdnses_1_current_dns_name, portdnses_1.current_dns_domain AS portdnses_1_current_dns_domain, portdnses_1.previous_dns_name AS portdnses_1_previous_dns_name, portdnses_1.previous_dns_domain AS portdnses_1_previous_dns_domain, portdnses_1.dns_name AS portdnses_1_dns_name, agents_1.id AS agents_1_id, agents_1.agent_type AS agents_1_agent_type, agents_1.`binary` AS agents_1_binary, agents_1.topic AS agents_1_topic, agents_1.host AS agents_1_host, agents_1.availability_zone AS agents_1_availability_zone, agents_1.admin_state_up AS agents_1_admin_state_up, agents_1.created_at AS agents_1_created_at, agents_1.started_at AS agents_1_started_at, agents_1.heartbeat_timestamp AS agents_1_heartbeat_timestamp, agents_1.description AS agents_1_description, agents_1.configurations AS agents_1_configurations, agents_1.resource_versions AS agents_1_resource_versions, agents_1.`load` AS agents_1_load, standardattributes_3.id AS standardattributes_3_id, standardattributes_3.resource_type AS standardattributes_3_resource_type, standardattributes_3.description AS standardattributes_3_description, standardattributes_3.revision_number AS standardattributes_3_revision_number, standardattributes_3.created_at AS standardattributes_3_created_at, standardattributes_3.updated_at AS standardattributes_3_updated_at, tags_3.standard_attr_id AS tags_3_standard_attr_id, tags_3.tag AS tags_3_tag, router_extra_attributes_1.router_id AS router_extra_attributes_1_router_id, router_extra_attributes_1.distributed AS router_extra_attributes_1_distributed, router_extra_attributes_1.service_router AS router_extra_attributes_1_service_router, router_extra_attributes_1.ha AS router_extra_attributes_1_ha, router_extra_attributes_1.ha_vr_id AS router_extra_attributes_1_ha_vr_id, router_extra_attributes_1.availability_zone_hints AS router_extra_attributes_1_availability_zone_hints, routerroutes_1.destination AS routerroutes_1_destination, routerroutes_1.nexthop AS routerroutes_1_nexthop, routerroutes_1.router_id AS routerroutes_1_router_id \\nFROM routers INNER JOIN (SELECT routerl3agentbindings.router_id AS router_id, count(routerl3agentbindings.router_id) AS count \\nFROM routerl3agentbindings INNER JOIN router_extra_attributes ON routerl3agentbindings.router_id = router_extra_attributes.router_id INNER JOIN routers ON routers.id = router_extra_attributes.router_id \\nWHERE router_extra_attributes.ha = true GROUP BY routerl3agentbindings.router_id) AS anon_1 ON routers.id = anon_1.router_id LEFT OUTER JOIN ports AS ports_1 ON ports_1.id = routers.gw_port_id LEFT OUTER JOIN ipallocations AS ipallocations_1 ON ports_1.id = ipallocations_1.port_id LEFT OUTER JOIN standardattributes AS standardattributes_1 ON standardattributes_1.id = ports_1.standard_attr_id LEFT OUTER JOIN tags AS tags_1 ON standardattributes_1.id = tags_1.standard_attr_id LEFT OUTER JOIN extradhcpopts AS extradhcpopts_1 ON ports_1.id = extradhcpopts_1.port_id LEFT OUTER JOIN ml2_port_bindings AS ml2_port_bindings_1 ON ports_1.id = ml2_port_bindings_1.port_id LEFT OUTER JOIN ml2_distributed_port_bindings AS ml2_distributed_port_bindings_1 ON ports_1.id = ml2_distributed_port_bindings_1.port_id LEFT OUTER JOIN qos_port_policy_bindings AS qos_port_policy_bindings_1 ON ports_1.id = qos_port_policy_bindings_1.port_id LEFT OUTER JOIN securitygroupportbindings AS securitygroupportbindings_1 ON ports_1.id = securitygroupportbindings_1.port_id LEFT OUTER JOIN trunks AS trunks_1 ON ports_1.id = trunks_1.port_id LEFT OUTER JOIN subports AS subports_1 ON trunks_1.id = subports_1.trunk_id LEFT OUTER JOIN standardattributes AS standardattributes_2 ON standardattributes_2.id = trunks_1.standard_attr_id LEFT OUTER JOIN tags AS tags_2 ON standardattributes_2.id = tags_2.standard_attr_id LEFT OUTER JOIN portsecuritybindings AS portsecuritybindings_1 ON ports_1.id = portsecuritybindings_1.port_id LEFT OUTER JOIN subports AS subports_2 ON ports_1.id = subports_2.port_id LEFT OUTER JOIN allowedaddresspairs AS allowedaddresspairs_1 ON ports_1.id = allowedaddresspairs_1.port_id LEFT OUTER JOIN portdnses AS portdnses_1 ON ports_1.id = portdnses_1.port_id LEFT OUTER JOIN (routerl3agentbindings AS routerl3agentbindings_1 INNER JOIN agents AS agents_1 ON agents_1.id = routerl3agentbindings_1.l3_agent_id) ON routers.id = routerl3agentbindings_1.router_id LEFT OUTER JOIN standardattributes AS standardattributes_3 ON standardattributes_3.id = routers.standard_attr_id LEFT OUTER JOIN tags AS tags_3 ON standardattributes_3.id = tags_3.standard_attr_id LEFT OUTER JOIN router_extra_attributes AS router_extra_attributes_1 ON routers.id = router_extra_attributes_1.router_id LEFT OUTER JOIN routerroutes AS routerroutes_1 ON routers.id = routerroutes_1.router_id\']\n'].
2017-01-31 23:29:21.596 11506 ERROR neutron.agent.l3.agent 
